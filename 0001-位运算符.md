# 位运算符

## 一、位运算基础

位运算符分为两大类，一类是位逻辑运算符，一类是位移运算符

**位逻辑运算符：**

| 运算符 | 含义 | 举例   |
| ------ | ---- | ------ |
| &      | 与   | a & b  |
| \|     | 或   | a \| b |
| ~      | 取反 | ~a     |
| ^      | 异或 | a ^ b  |

**位移运算符：**

| 运算符 | 含义         | 举例    |
| ------ | ------------ | ------- |
| <<     | 左移位       | a << 2  |
| >>     | 右移位       | b >> 4  |
| >>>    | 无符号右移位 | a >>> 2 |

**位逻辑运算结果参照表：**

| A    | B    | a & b | a \| b | a ^ b | ~a   |
| ---- | ---- | ----- | ------ | ----- | ---- |
| 0    | 0    | 0     | 0      | 0     | 1    |
| 1    | 0    | 0     | 1      | 1     | 0    |
| 0    | 1    | 0     | 1      | 1     | 1    |
| 1    | 1    | 1     | 1      | 0     | 0    |

**位移运算符特点：**

```
左移运算符(<<):左移一位，相当于一次乘2的运算
右移运算符(>>):右移一位，相当于一次除2的运算
无符号右移位(>>>):右移过程中，不会保留之前的符号，左边永远补0,即负数移动后变成一个正数，但byte和short不适应做无符号右移操作（会按照普通右移来计算）
```

**位逻辑运算符案例：**

```
System.out.println(6&10);	//结果为2
```

解析：

```
6的二进制为110,10的二进制为1010，则
	0110
&	1010
--------------
	0010
0010的十进制为2，所以计算结果为2
```

----------------------------------

```
System.out.println(6|10);	//结果为14
```

解析:

```
6的二进制为110,10的二进制为1010，则
	0110
|	1010
--------------
	1110
1110的十进制为14，所以计算结果为14
```

--------------------

```
System.out.println(~6);		//-7
System.out.println(~-6);	//5
```

解析：

```
理解取反操作符（~）要先了解的理论：
1.在计算机中，所有数据的表示方式都是以补码的方式存在；
2.正数：符号位为0，原码，反码，补码相同；
3.负数：符号位为1，补码 = 反码 + 1。
正数取反解析：
step 1：原码;	step 2：取反;	step 3：反码;	step 4：补码
负数取反解析：
step 1：原码;	step 2：反码;	step 3：补码;	step 4：取反
---------------------------------------------------------------
原码:00000000 00000000 00000000 00000110
取反:11111111 11111111 11111111 11111001
反码:10000000 00000000 00000000 00000110
补码:10000000 00000000 00000000 00000111 = -7
-----------------------------------------------------------------
原码:10000000 00000000 00000000 00000110
反码:11111111 11111111 11111111 11111001
补码:11111111 11111111 11111111 11111010
取反:00000000 00000000 00000000 00000101 = 5
----------------------------------------------------------------
结论：
当n为正数时，~(n) = -(n+1)
当n为负数时，~(-n) = n - 1，忽略负号
```

----------------

```
System.out.println(6^10);	//12
```

解析:

```
6的二进制为110,10的二进制为1010，则
	0110
|	1010
--------------
	1100
1100的十进制为12，所以计算结果为12
```

**位移运算符案例：**

```
System.out.println(1);		//1
System.out.println(1<<1);	//2
System.out.println(1<<2);	//4
System.out.println(1<<3);	//8
System.out.println(1<<31);	//-2147483648
System.out.println(1<<32);	//1
System.out.println(1<<33);	//2
System.out.println(1<<34);	//4
System.out.println(1<<35);	//8
```

解析：

```
--左移一位，相当于乘2运算
--左移位数太多可能会溢出
--左移位数大于数据类型的位数，将移动位数和数据类型位数进行取模之后的数字进行移动
```

----------------------

```
System.out.println(100>>1);		//50
System.out.println(100>>2);		//25
System.out.println(100>>3);		//12
```

解析：

```
--右移一位，相当于除2运算
```

-----------------------------

```
System.out.println(100>>>1);	//50
System.out.println(-100>>>1);	//2147483598
```

解析：

```
--不会保留之前的符号，左边永远补0
```

